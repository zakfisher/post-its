@import '../node_modules/bourbon/app/assets/stylesheets/bourbon';
@import 'styles/colors';
@import 'styles/fonts';
@import 'styles/grid';

* {
  @include appearance(none);
  @include backface-visibility(visible);
  box-sizing: border-box;
  border: none;
  list-style-type: none;
  outline: none;
  margin: 0;
  padding: 0;
  position: relative;
  text-decoration: none;
  color: black;
}

html, body {
  position: relative;
  min-height: 100%;
  min-width: 100%;
}

#app, #app > div {
  height: 100%;
  width: 100%;
  position: relative;
  @include breakpoint(tab) {
    position: fixed;
  }
}

#app > div {
  display: flex;
  flex-wrap: wrap;
  overflow: hidden;
}

$navHeight: rem(50);

.nav {
  background: black;
  height: $navHeight;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 10;

  .nav-logo {
    @include size($navHeight);
    position: absolute;
    left: 0;
    top: 0;
    background: $blue;
  }

  h1 {
    position: absolute;
    height: 100%;
    left: $navHeight + rem(10);
    font-size: rem(18);
    line-height: $navHeight;
    color: white;
  }
}

$desktopBgGradientLight: 54;
$desktopBgGradientStop: 200%;
$desktopPerspective: rem(400);

.desktop {
  background: rgba($desktopBgGradientLight,$desktopBgGradientLight,$desktopBgGradientLight,1);
  background: -moz-radial-gradient(center, ellipse cover, rgba($desktopBgGradientLight,$desktopBgGradientLight,$desktopBgGradientLight,1) 0%, rgba(0,0,0,1) $desktopBgGradientStop);
  background: -webkit-gradient(radial, center center, 0px, center center, $desktopBgGradientStop, color-stop(0%, rgba($desktopBgGradientLight,$desktopBgGradientLight,$desktopBgGradientLight,1)), color-stop($desktopBgGradientStop, rgba(0,0,0,1)));
  background: -webkit-radial-gradient(center, ellipse cover, rgba($desktopBgGradientLight,$desktopBgGradientLight,$desktopBgGradientLight,1) 0%, rgba(0,0,0,1) $desktopBgGradientStop);
  background: -o-radial-gradient(center, ellipse cover, rgba($desktopBgGradientLight,$desktopBgGradientLight,$desktopBgGradientLight,1) 0%, rgba(0,0,0,1) $desktopBgGradientStop);
  background: -ms-radial-gradient(center, ellipse cover, rgba($desktopBgGradientLight,$desktopBgGradientLight,$desktopBgGradientLight,1) 0%, rgba(0,0,0,1) $desktopBgGradientStop);
  background: radial-gradient(ellipse at center, rgba($desktopBgGradientLight,$desktopBgGradientLight,$desktopBgGradientLight,1) 0%, rgba(0,0,0,1) $desktopBgGradientStop);
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#333333', endColorstr='#000000', GradientType=1 );
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;
  left: 0;
  z-index: 0;
  padding-top: $navHeight;
  border-bottom: rem(10) solid black;
  -webkit-perspective: $desktopPerspective;
  perspective: $desktopPerspective;
}

.add-note-button {
  @include size(rem(50));
  @include transition(opacity 300ms ease);
  cursor: pointer;
  opacity: 0.3;
  position: absolute;
  background: white;
  border-radius: rem(8);
  right: rem(20);
  bottom: rem(20);

  &:hover {
    opacity: 1;
  }
}

.plus-icon {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;

  .bar {
    cursor: pointer;
    height: rem(24);
    width: rem(5);
    background: black;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;

    &.h {
      @include transform(rotate(90deg));
    }
  }

  &.x-rotate {
    @include transform(rotate(45deg));
  }
}

$noteSize: rem(270);
$noteTitleHeight: rem(36);

.note {
  @include size($noteSize);
  @include transition(all);
  @include transition-duration(300ms);
  border-radius: rem(10);
  overflow: hidden;
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;
  left: 0;

  @include transform(translate3d(rem(100), rem(200), 0));
  @include transform(scale(1));
  @include transform(rotateY(0deg));
  @include transform-origin(center center);
  @include transform-style(preserve-3d);

  > div {
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
    @include size(100%);
  }

  .note-front {
    padding-top: $noteTitleHeight;
    z-index: 1;
  }

  .note-back {
    z-index: 0;
  }

  &:hover:not(.edit) {
    @include transform(scale(1.1));
  }

  &.edit {
    @include transition-duration(600ms)
    @include transform(rotateY(180deg));
    @include size(80vh);

    .note-front {
      z-index: 0;
    }

    .note-back {
      z-index: 1;
    }
  }
}

.note-title {
  background: $orange;
  height: $noteTitleHeight;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;

  h1 {
    font-size: rem(18);
    font-family: 'Avenir Black';
    line-height: $noteTitleHeight;
    text-transform: uppercase;
  }
}

.note-close {
  @include size($noteTitleHeight);
  @include transition(opacity 300ms ease);
  position: absolute;
  right: 0;
  top: 0;
  cursor: pointer;
  opacity: 0.3;

  .bar {
    cursor: pointer;
    height: rem(20);
  }

  &:hover {
    opacity: 1;
  }
}

.note-front {
  background: $yellow;
}

.note-back {
  @include transform(rotateY(180deg));
  background: $blue;
}



